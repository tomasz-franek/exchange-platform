<app-menu checkedInput="tickets"></app-menu>
<app-ticket-menu checkedInput="ticketOrder"></app-ticket-menu>
<form [formGroup]="formGroup">
  <table>
    <tr>
      <td>
        <p-card [style.width.pc]="45">

          <table>
            <tr>
              <td>
                <label for="pair" id="labelPair">
                  {{ "PAIR" | translate }}
                </label>
              </td>
              <td id="pair">
                <p-select
                  (onChange)="setValueCurrencyLabel()"
                  [options]="_pairs"
                  formControlName="pair"
                  optionLabel="value"
                  optionValue="value"
                >
                  <ng-template #item let-keyPar>
                    <div>{{ keyPar.value }}</div>
                  </ng-template>
                </p-select>
              </td>
            </tr>
            <tr>
              <td>
                <label for="direction">{{ "DIRECTION" | translate }}</label>
              </td>
              <td id="direction">
                <p-select
                  (onChange)="setValueCurrencyLabel()"
                  [options]="_directions"
                  formControlName="direction"
                  optionLabel="value"
                  optionValue="value"
                >
                  <ng-template #item let-keyDirection>
                    <div>{{ keyDirection.value }}</div>
                  </ng-template>
                </p-select>
              </td>
            </tr>
            <tr>
              <td>
                <label for="ratioInput">{{ "RATIO" | translate }}</label>
              </td>
              <td>
                <input
                  (change)="onDecimalChange($event, 'ratio')"
                  formControlName="ratio"
                  id="ratioInput"
                  pInputText
                  placeholder="0.0000"
                  step="0.0001"
                  type="number"
                />
              </td>
            </tr>
            <tr>
              <td>
                <label for="amountInput">{{ "AMOUNT" | translate }}</label>
              </td>
              <td>
                <input
                  (change)="onDecimalChange($event, 'amount')"
                  formControlName="amount"
                  id="amountInput"
                  pInputText
                  placeholder="0.00"
                  step="0.01"
                  type="number"
                />
                <div>{{ "MINIMUM_EXCHANGE_VALUE"|translate }}: {{
                    formGroup.get('minimumAmount')?.value
                  }} {{ showCurrencyLabel() }}
                </div>
              </td>
            </tr>
            <tr>
              <p-button
                (click)="saveTicket()"
                [disabled]="formGroup.invalid"
                id="back"
              >
                {{ "SEND" | translate }}
              </p-button>
            </tr>
          </table>
        </p-card>
      </td>
      <td>
        <div>
          <app-order-book-table
            [buyCurrency]="PairUtils.getBaseCurrency(formGroup.get('pair')?.value)"
            [orderBookData]="orderBookData"
            [pair]="formGroup.get('pair')?.value"
            [viewMode]="viewMode"
          ></app-order-book-table>
        </div>
      </td>
    </tr>
    <tr>
      <div>
        <p-selectbutton [options]="stateOptions" aria-labelledby="basic"
                        formControlName="normalView"
                        optionLabel="label"
                        optionValue="value">
        </p-selectbutton>
        <app-order-book-chart
          [buyCurrency]="PairUtils.getBaseCurrency(formGroup.get('pair')?.value)"
          [orderBookData]="orderBookData"
          [pair]="formGroup.get('pair')?.value"
          [viewMode]="viewMode"
        >
        </app-order-book-chart>
      </div>
    </tr>
  </table>
</form>
