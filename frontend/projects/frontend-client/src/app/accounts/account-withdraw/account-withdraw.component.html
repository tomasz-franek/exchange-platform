<app-menu checkedInput="accounts"></app-menu>
<div>
  <app-account-menu checkedInput="withdraw"></app-account-menu>
</div>
<div>
  <form [formGroup]="formGroup">
    <table>
      <tr>
        <td>
          <label for="currency">{{ "USER_ACCOUNT" | translate }}</label>
        </td>
        <td id="currency">
          <p-select (onChange)="changeAccount($event)"
                    [options]="store.accountBalanceList()"
                    optionLabel="currency">
            <ng-template #item let-selectedOption>
              <div
                class="selected-item">{{ selectedOption.amount | amount }} {{ selectedOption.currency }}
              </div>
            </ng-template>
          </p-select>
        </td>
      </tr>
      @if (currentLimit > 0) {
        <tr>
          <td>
            <label for="currency">{{ "WITHDRAW_AMOUNT_LIMIT" | translate }}</label>
          </td>
          <td style="text-align: right">
            {{ currentLimit|amount }} {{ formGroup.get('currency')?.value }}
          </td>
        </tr>
      }
      <tr>
        <td>
          <label for="amountInput">{{ "AMOUNT" | translate }}</label>
        </td>
        <td>
          <input
            (input)="changedAmount()"
            formControlName="amount"
            id="amountInput"
            min="0"
            pInputText
            placeholder="0.00"
            step="0.01"
            type="number"
          />
        </td>
      </tr>
      <tr>
        <p-button
          (onClick)="withdrawCurrency()"
          [disabled]="formGroup.invalid"
          id="send"
        >
          {{ "WITHDRAW" | translate }}
        </p-button>
      </tr>
    </table>
  </form>
</div>
